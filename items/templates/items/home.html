{% extends 'items/base.html' %}

{% block title %}Home | Lost & Found{% endblock %}
{% block content %}

<h2 class="mb-4 text-center">Recent Lost & Found Posts</h2>

<div class="row">
  {% for item in found_items %}
  <div class="col-md-4">
    <div class="card shadow-sm mb-4">
      {% if item.image %}
      <img src="{{ item.image.url }}" class="card-img-top" style="height:220px; object-fit:cover;">
      {% endif %}
      <div class="card-body">
        <h5 class="card-title">{{ item.item_name }}</h5>
        <p class="text-muted">{{ item.description|truncatewords:15 }}</p>
        <p><strong>Found at:</strong> {{ item.location }}</p>
        {% if not item.is_claimed %}
        <a href="/claim/{{ item.id }}/" class="btn btn-primary btn-sm">Claim this item</a>
        {% else %}
        <span class="badge bg-success">Already Claimed</span>
        {% endif %}
      </div>
    </div>
  </div>
  {% empty %}
  <p class="text-center">No items found yet.</p>
  {% endfor %}
</div>

{% endblock %}
